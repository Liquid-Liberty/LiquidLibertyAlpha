# Entities

type Token @entity(immutable: false) {
  id: ID!
  symbol: String
  name: String
  decimals: Int!
}

type Pair @entity(immutable: false) {
  id: ID!
  token0: Token!
  token1: Token!
  createdAt: BigInt!
}

# OHLCV candle entity per interval & pair
# id format: `${pair}-${interval}-${bucketStart}`

type Candle @entity(immutable: false) {
  id: ID!
  pair: Pair!
  interval: String!
  bucketStart: Int!

  open: BigDecimal!
  high: BigDecimal!
  low: BigDecimal!
  close: BigDecimal!

  volumeToken0: BigDecimal!
  volumeToken1: BigDecimal!
  trades: Int!
}

type CollateralWhitelist @entity(immutable: false) {
  id: ID!
  token: Bytes!
  isWhitelisted: Boolean!
  updatedAt: BigInt!
}

type CommerceFee @entity(immutable: false) {
  id: ID!
  token: Bytes!
  amount: BigDecimal!
  blockNumber: BigInt!
  timestamp: BigInt!
  txHash: Bytes!
}
